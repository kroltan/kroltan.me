<!doctype html>
<html lang="">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Debug</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<canvas id="background" style="position: fixed; left: 0; top: 0; width: 100vw; height: 100vh"></canvas>
<script>
    const target = document.getElementById("background");
    const gl = target.getContext("webgl");

    const vertex = gl.createShader(gl.VERTEX_SHADER);
    gl.shaderSource(vertex, `
        #version 100
        attribute vec2 Position;
        void main() {
            gl_Position = vec4(Position, 0.0, 0.0);
        }
    `);
    gl.compileShader(vertex);

    const fragment = gl.createShader(gl.FRAGMENT_SHADER);
    gl.shaderSource(fragment, `
        #version 100
        precision mediump float;

        void main() {
            gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
        }
    `);
    gl.compileShader(fragment);

    const program = gl.createProgram();
    gl.attachShader(program, vertex);
    gl.attachShader(program, fragment);
    gl.linkProgram(program);

    const positionAttr = gl.getAttribLocation(program, "Position");
    const buffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
    gl.vertexAttribPointer(positionAttr, 2, gl.FLOAT, false, 0, 0);
    gl.enableVertexAttribArray(positionAttr);

    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
        1, 1,
        -1, 1,
        1, -1,
        -1, -1,
    ]), gl.STATIC_DRAW);

    gl.useProgram(program);

    drawFrame();
    function drawFrame() {
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);

        requestAnimationFrame(drawFrame);
    }
</script>
</body>
</html>
